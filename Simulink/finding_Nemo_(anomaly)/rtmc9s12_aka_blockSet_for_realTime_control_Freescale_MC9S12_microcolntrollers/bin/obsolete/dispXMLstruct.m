% display the contents of a structure generated by parseXML
function dispXMLstruct(varargin)

% parse callup parameters
if nargin == 1
    
    % root level
    myXMLstruct = varargin{1};
    myIdentation = '';
    
elseif nargin == 2
    
    % not the root level -> extra parameter
    myXMLstruct = varargin{1};
    myIdentation = varargin{2};
    
else
    
    % problem...
    error('Syntax: dispXMLstruct(struct_to_be_displayed)');
    
end


% number of entries of the structure at the current level
thisNumEntries = length(myXMLstruct);
for ii = 1:thisNumEntries
    
    % opening bracket of the current entry
    kk = [myIdentation '<' myXMLstruct(ii).Name '>'];
    
    % are there any children to be dealt with?
    if ~isempty(myXMLstruct(ii).Children)
        
        % yes -> display opening bracket ...
        disp(kk)
        kk = myIdentation;
        
        % ... and make a recursive call to dispXMLstruct (this function)
        dispXMLstruct(myXMLstruct(ii).Children, [myIdentation '   ']);
        
    else
    
        % no more children -> just display the display current entry
        kk = [kk char(myXMLstruct(ii).Data)];
        
    end
                    
    % display the closing bracket of the current entry
    disp([kk '</' myXMLstruct(ii).Name '>'])
    
end
